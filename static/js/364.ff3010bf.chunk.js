"use strict";(self.webpackChunkproject1=self.webpackChunkproject1||[]).push([[364],{5364:function(t,s,e){e.r(s),e.d(s,{default:function(){return T}});var n=e(1413),o=e(2791),u="ProfileInfo_descriptionBlock__TwFUe",a=e(2495),r=e(885),i=e(184),l=function(t){var s=(0,o.useState)(!1),e=(0,r.Z)(s,2),n=e[0],u=e[1],a=(0,o.useState)(t.status),l=(0,r.Z)(a,2),c=l[0],d=l[1];(0,o.useEffect)((function(){d(t.status)}),[t.status]);return(0,i.jsxs)("div",{children:[!n&&(0,i.jsx)("div",{children:(0,i.jsx)("span",{onDoubleClick:function(){u(!0)},children:t.status||"-----"})}),n&&(0,i.jsx)("div",{children:(0,i.jsx)("input",{onChange:function(t){d(t.currentTarget.value)},autoFocus:!0,onBlur:function(){u(!1),t.updateStatus(c)},value:c})})]})},c=function(t){var s=t.profile,e=t.status,n=t.updateStatus;return s?(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsx)("img",{src:"https://miro.medium.com/max/1400/1*itlWgBn4CfMKGg7qmh7vHQ.jpeg",alt:"Marvel"})}),(0,i.jsxs)("div",{className:u,children:[(0,i.jsx)("div",{children:(0,i.jsx)("img",{src:s.photos.large,alt:"photo"})}),(0,i.jsx)("div",{children:s.fullName}),(0,i.jsx)("div",{children:(0,i.jsx)(l,{status:e,updateStatus:n})})]})]}):(0,i.jsx)(a.Z,{})},d=e(6070),f="MyPosts_postBlock__9TKMY",p="MyPosts_posts__3UrMx",x="Post_item__mNNDv",j=function(t){return(0,i.jsxs)("div",{className:x,children:[(0,i.jsx)("img",{src:"https://shapka-youtube.ru/wp-content/uploads/2021/02/prikolnaya-avatarka-dlya-patsanov.jpg",alt:"avatarka"}),t.text,(0,i.jsxs)("div",{children:["Likes count ",t.likesCount]})]})},h=e(6139),v=e(704),m=e(8610),g=e(8323),P=(0,m.D)(30),k=o.memo((function(t){console.log("render");var s=t.posts.map((function(t){return(0,i.jsx)(j,{text:t.message,likesCount:t.likesCount},t.id)}));return(0,i.jsxs)("div",{className:f,children:["My Posts",(0,i.jsx)(S,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,i.jsx)("div",{className:p,children:s})]})})),S=(0,v.Z)({form:"ProfileAddPost"})((function(t){return(0,i.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,i.jsx)("div",{children:(0,i.jsx)(h.Z,{component:g.g,name:"newPostText",placeholder:"new Post",validate:[m.C,P]})}),(0,i.jsx)("button",{children:"Add post"})]})})),_=k,C=e(364),w=(0,C.$j)((function(t){return{newPostText:t.profilePage.newPostText,posts:t.profilePage.posts}}),{addPost:d.q2})(_),b=function(t){return(0,i.jsxs)("div",{children:[(0,i.jsx)(c,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,i.jsx)(w,{store:t.store})]})},N=e(819),M=e(1548),T=(0,e(7781).qC)((0,C.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status}}),{getUserProfile:d.et,getStatus:d.lR,updateStatus:d.Nf}),M.e)((function(t){var s=(0,N.UO)().userId;return(0,o.useEffect)((function(){t.getUserProfile(s)}),[s]),(0,o.useEffect)((function(){t.getStatus(s)}),[s]),(0,i.jsx)(b,(0,n.Z)((0,n.Z)({},t),{},{profile:t.profile,status:t.status,updateStatus:t.updateStatus}))}))}}]);
//# sourceMappingURL=364.ff3010bf.chunk.js.map